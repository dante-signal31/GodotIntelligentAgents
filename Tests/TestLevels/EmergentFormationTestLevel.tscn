[gd_scene load_steps=7 format=3 uid="uid://bjmxq8ut3epbe"]

[ext_resource type="PackedScene" uid="uid://uoeqihrae8u6" path="res://Levels/BigClearCourtyard.tscn" id="1_8b7wq"]
[ext_resource type="PackedScene" uid="uid://deejypkq5wrxw" path="res://Scenes/Target.tscn" id="2_mdgid"]
[ext_resource type="PackedScene" uid="uid://mxho5r22apy1" path="res://Scenes/SteeringBehaviors/MovingAgent.tscn" id="3_8q7dm"]
[ext_resource type="PackedScene" uid="uid://fghynj1qk4qb" path="res://Scenes/SteeringBehaviors/ArriveSteeringBehaviorNLA.tscn" id="4_o46ag"]
[ext_resource type="PackedScene" uid="uid://db2o0p3mgo1q3" path="res://Scenes/Groups/EmergentFormation.tscn" id="5_dhgyl"]
[ext_resource type="PackedScene" uid="uid://db5gbqpl7ewx2" path="res://Scenes/SteeringBehaviors/OffsetFollowBehavior.tscn" id="6_xqb6q"]

[node name="FormationTestLevel" type="Node2D"]

[node name="BigClearCourtyard" parent="." instance=ExtResource("1_8b7wq")]

[node name="Target" parent="." instance=ExtResource("2_mdgid")]
position = Vector2(6053, 2401)
gizmo_extents = 169.4

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(3851, 2157)
zoom = Vector2(0.25, 0.25)

[node name="Positions" type="Node" parent="."]

[node name="Position1" type="Marker2D" parent="Positions"]
position = Vector2(4362, 1919)

[node name="Position2" type="Marker2D" parent="Positions"]
position = Vector2(3238, 1832)

[node name="Position3" type="Marker2D" parent="Positions"]
position = Vector2(4235, 1110)

[node name="Position4" type="Marker2D" parent="Positions"]
position = Vector2(5211, 1648)

[node name="Position5" type="Marker2D" parent="Positions"]
position = Vector2(5274, 2570)

[node name="Position6" type="Marker2D" parent="Positions"]
position = Vector2(4029, 2588)

[node name="Position7" type="Marker2D" parent="Positions"]
position = Vector2(2390, 2364)

[node name="Position8" type="Marker2D" parent="Positions"]
position = Vector2(1369, 1110)

[node name="Position9" type="Marker2D" parent="Positions"]
position = Vector2(4494, 1110)

[node name="EmergentFormation" type="Node" parent="."]

[node name="LeaderMovingAgent" parent="EmergentFormation" groups=["EmergentFormation"] instance=ExtResource("3_8q7dm")]
position = Vector2(4362, 1919)
AgentColor = Color(1, 0, 0, 1)

[node name="ArriveSteeringBehaviorNLA" parent="EmergentFormation/LeaderMovingAgent" node_paths=PackedStringArray("Target") instance=ExtResource("4_o46ag")]
Target = NodePath("../../../Target")

[node name="WingmanMovingAgent" parent="EmergentFormation" groups=["EmergentFormation"] instance=ExtResource("3_8q7dm")]
position = Vector2(4025, 2596)
MaximumSpeed = 250.0
AutoSmooth = true

[node name="EmergentFormation" parent="EmergentFormation/WingmanMovingAgent" instance=ExtResource("5_dhgyl")]

[node name="OffsetFollowBehavior" parent="EmergentFormation/WingmanMovingAgent" node_paths=PackedStringArray("Target") instance=ExtResource("6_xqb6q")]
Target = NodePath("../../LeaderMovingAgent")
OffsetFromTarget = Vector2(-200, 200)

[node name="ArriveSteeringBehaviorNLA" parent="EmergentFormation/WingmanMovingAgent/OffsetFollowBehavior" node_paths=PackedStringArray("Target") instance=ExtResource("4_o46ag")]
Target = NodePath("../OffsetFromTargetMarker")

[node name="OffsetFromTargetMarker" type="Node2D" parent="EmergentFormation/WingmanMovingAgent/OffsetFollowBehavior"]
position = Vector2(137, -477)

[node name="WingmanMovingAgent2" parent="EmergentFormation" groups=["EmergentFormation"] instance=ExtResource("3_8q7dm")]
position = Vector2(3237, 1828)
MaximumSpeed = 250.0
AutoSmooth = true

[node name="EmergentFormation" parent="EmergentFormation/WingmanMovingAgent2" instance=ExtResource("5_dhgyl")]

[node name="OffsetFollowBehavior" parent="EmergentFormation/WingmanMovingAgent2" node_paths=PackedStringArray("Target") instance=ExtResource("6_xqb6q")]
Target = NodePath("../../LeaderMovingAgent")
OffsetFromTarget = Vector2(-988, -568)

[node name="ArriveSteeringBehaviorNLA" parent="EmergentFormation/WingmanMovingAgent2/OffsetFollowBehavior" node_paths=PackedStringArray("Target") instance=ExtResource("4_o46ag")]
Target = NodePath("../OffsetFromTargetMarker")

[node name="OffsetFromTargetMarker" type="Node2D" parent="EmergentFormation/WingmanMovingAgent2/OffsetFollowBehavior"]
position = Vector2(137, -477)

[node name="WingmanMovingAgent3" parent="EmergentFormation" groups=["EmergentFormation"] instance=ExtResource("3_8q7dm")]
position = Vector2(4232, 1109)
MaximumSpeed = 250.0
AutoSmooth = true

[node name="EmergentFormation" parent="EmergentFormation/WingmanMovingAgent3" instance=ExtResource("5_dhgyl")]

[node name="OffsetFollowBehavior" parent="EmergentFormation/WingmanMovingAgent3" node_paths=PackedStringArray("Target") instance=ExtResource("6_xqb6q")]
Target = NodePath("../../LeaderMovingAgent")
OffsetFromTarget = Vector2(7, -1287)

[node name="ArriveSteeringBehaviorNLA" parent="EmergentFormation/WingmanMovingAgent3/OffsetFollowBehavior" node_paths=PackedStringArray("Target") instance=ExtResource("4_o46ag")]
Target = NodePath("../OffsetFromTargetMarker")

[node name="OffsetFromTargetMarker" type="Node2D" parent="EmergentFormation/WingmanMovingAgent3/OffsetFollowBehavior"]
position = Vector2(137, -477)

[node name="WingmanMovingAgent4" parent="EmergentFormation" groups=["EmergentFormation"] instance=ExtResource("3_8q7dm")]
position = Vector2(5217, 1651)
MaximumSpeed = 250.0
AutoSmooth = true

[node name="EmergentFormation" parent="EmergentFormation/WingmanMovingAgent4" instance=ExtResource("5_dhgyl")]

[node name="OffsetFollowBehavior" parent="EmergentFormation/WingmanMovingAgent4" node_paths=PackedStringArray("Target") instance=ExtResource("6_xqb6q")]
Target = NodePath("../../LeaderMovingAgent")
OffsetFromTarget = Vector2(992, -745)

[node name="ArriveSteeringBehaviorNLA" parent="EmergentFormation/WingmanMovingAgent4/OffsetFollowBehavior" node_paths=PackedStringArray("Target") instance=ExtResource("4_o46ag")]
Target = NodePath("../OffsetFromTargetMarker")

[node name="OffsetFromTargetMarker" type="Node2D" parent="EmergentFormation/WingmanMovingAgent4/OffsetFollowBehavior"]
position = Vector2(137, -477)

[node name="WingmanMovingAgent5" parent="EmergentFormation" groups=["EmergentFormation"] instance=ExtResource("3_8q7dm")]
position = Vector2(5277, 2569)
MaximumSpeed = 250.0
AutoSmooth = true

[node name="EmergentFormation" parent="EmergentFormation/WingmanMovingAgent5" instance=ExtResource("5_dhgyl")]

[node name="OffsetFollowBehavior" parent="EmergentFormation/WingmanMovingAgent5" node_paths=PackedStringArray("Target") instance=ExtResource("6_xqb6q")]
Target = NodePath("../../LeaderMovingAgent")
OffsetFromTarget = Vector2(1052, 173)

[node name="ArriveSteeringBehaviorNLA" parent="EmergentFormation/WingmanMovingAgent5/OffsetFollowBehavior" node_paths=PackedStringArray("Target") instance=ExtResource("4_o46ag")]
Target = NodePath("../OffsetFromTargetMarker")

[node name="OffsetFromTargetMarker" type="Node2D" parent="EmergentFormation/WingmanMovingAgent5/OffsetFollowBehavior"]
position = Vector2(137, -477)
